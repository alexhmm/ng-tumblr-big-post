<section class="posts">
  <div *ngIf="stateLoading" class="posts-loading" @fadeInOut>
    <div class="spinner">
      <div class="double-bounce1"></div>
      <div class="double-bounce2"></div>
    </div>
  </div>
  <app-post-photo
    *ngFor="let post of posts; let i = index"
    #post
    [post]="posts[i]"
    [postIndex]="i"
    [postVisible]="
      postsLoaded.hasOwnProperty(i) && postsLoaded[i] && currentIndex === i
    "
    [loadSource]="
      (i === currentIndex - 1 && i - 1 > -1) ||
      i === currentIndex ||
      (i === currentIndex + 1 && i + 1 < totalPosts - 1)
    "
    [ngStyle]="{
      'z-index': i === currentIndex ? 11 : 10
    }"
  ></app-post-photo>
</section>
